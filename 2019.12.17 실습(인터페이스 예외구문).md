# 2019.12.17 실습

## 인터페이스, 예외구문

### 실습1



![image-20191217222801572](C:\Users\user\AppData\Roaming\Typora\typora-user-images\image-20191217222801572.png)

\5. 실행 결과(SaleTV 객체를 가지고 printAllTV() 를 먼저 호출한 경우)

  

판매상품정보 : 모델명(SALETV-1), 가격(300,000원), 크기(40)

판매TV 채널 3번의 프로를 플레이 합니다.

SALETV-1 모델의 상품을 판매합니다. 300,000원을 지불해 주세요.

대여상품정보 : 모델명(RENTALTV-10), 가격(100,000원), 크기(42)

대여TV 채널 8번의 프로를 플레이 합니다.

 RENTALTV-10모델의 상품을 대여합니다. 100,000원을 지불해 주세요.



```java
class TV {
    private String model;
    private int size;
    private int channel;
    
    public TV() {	}
    public TV(String model, int size, int channel) {
        this.model=model;
        this.size=size;
        this.channel=channel;
    }
    public void channelUp() {
        if(channel>1)
            channel -=1;
        else
            channel = 10;
    }
    public String getModel() {
        return model;
    }
    public void setModel(String model) {
        this.model=model;
    }
    public int getSize() {
        return size;
    }
    public void setSize(int size) {
        this.size = size;
    }
    public int getChannel() {
        return channel;
    }
    public void setChannel(int channel) {
        this.channel = channel;
    }
}
	class SaleTV extends TV {
    	int price;
    
    	public SaleTV() {	}
    	public SaleTV(int price, String model, int size, int channel) {
        	super(model, size, channel);
        	this.price=price;
    	}
    	public int getPrice() {
        	return price;
    	}
    	public void setPrice(int price) {
	        this.price=price;
    	}
    	public void play() {
        	System.out.println("판매 TV 채널 "+super.getChannel() + "번의 프로를 플레이합니다.");
    	}
    	public void sale() {
        	System.out.printf("%s 모델의 상품을 대여합니다. %,d을 지불해 주세요.\n"+super.getPrice(), this.getPrice());
    	}
    	public String toString() {
        	return String.format("판매상품정보 : 모델명(%s), 가격(%,d), 크기(%d)", super.getModel(), this.getPrice(), super.getSize());
    	}
	}
	class RentalTV extends TV implements Rentable {
        int price;
        
        RentalTV() {	}
        RentalTV(int price, String model, int size, int channel) {
            super(model,size,channel);
            this.price=price;
        }
        public int getPrice() {
            return price;
        }
        public void setPrice(int price) {
            this.price=price;
        }
        public void play() {
            System.out.println("대여 TV 채널"+super.getChannel()+"번의 프로를 플레이합니다.");
        }
        public void rent() {
            System.out.printf("%s 모델의 상품을 대여합니다. %,d을 지불해 주세요.", super.getModel(), this.getPrice());
        }
        public String toString() {
            return String.format("판매상품정보 : 모델명(%s), 가격(%,d), 크기(%d)", super.getModel(), this.getPrice(), super.getSize());
        }
    }
	interface Rentable {
        public abstract void rent();
    }
public class TVtest {
    public static void main(String[] args) {
        SaleTV st=new SaleTV(300000, "SALETV-1", 40, 1);
        RentalTV rt=new RentalTV(100000, "RENTALTV-10", 42, 1);
        
        st.channelUp();
        st.channelUp();
        rt.channelDown();
        rt.channelDown();
        rt.channelDown();
        printAllTV(st);
        printAllTV(rt);
        printRentalTV(rt);
    }
    static void printAllTV(TV tv) {
        System.out.println(tv.toString());
        if(tv instanceof SaleTV) {
            ((SaleTV)tv).play();
            ((SaleTV)tv).sale();
        } else {
            ((RentalTV)tv).play();
        }
    }
    static void printRentalTV(Rentable tv) {
        ((RentalTV)tv).rent();
    }
}
```



### 실습2



![image-20191217230008558](C:\Users\user\AppData\Roaming\Typora\typora-user-images\image-20191217230008558.png)

![image-20191217230048159](C:\Users\user\AppData\Roaming\Typora\typora-user-images\image-20191217230048159.png)

![image-20191217230120476](C:\Users\user\AppData\Roaming\Typora\typora-user-images\image-20191217230120476.png)



```java
import java.util.Random;

	class DuplicateException extends Exception {
        DuplicateException() {
            super("중복된 로또 번호가 발생했습니다.");
        }
    }
	class LottoMachine {
        private int[] nums;
        public LottoMachine() {
            nums = new int[6];
        }
        public void creatLottoNums() {
            for(int i=0 ; i<=5 ; i++)
                nums[i] = new Random().nextInt(20)+1;
        }
        public void checkLottoNums() throws DuplicateException {
            for(int i=0 ; i<=5 ; i++)
                for(int j=1 ; j<5 ; j++) {
                    if(nums[i]==nums[j+1]){
                        throw new DuplicateException();
                    }
                }
        }
        public int[] getNums() {
            return nums;
        }
    }
public class LottoGame {
    public static void main(String[] args)throws DuplicateException {
        LottoMachine lmc = new LottoMachine();
        
        try {
            lmc.createLottoNums();
            lmc.checkLottoNums();
            int[] nums=lmc.getNums();
            for(int i=0 ; i<nums.length ; i++) {
                System.out.print(nums[i]);
            }else {
                System.out.print(nums[i]+", ");
            }
        }catch (DuplicateException e) {
            System.out.println(e.toString());
        }finally {
            
        }
    }
}
```



